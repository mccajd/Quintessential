[gd_scene load_steps=8 format=3 uid="uid://b16x2m82ri0xj"]

[ext_resource type="Script" path="res://Scripts/main.gd" id="1_nu8b2"]
[ext_resource type="PackedScene" uid="uid://xlfxdxlhlrkm" path="res://Scenes/beacon_puzzle.tscn" id="2_6o530"]
[ext_resource type="PackedScene" uid="uid://cqwfracn5qwr4" path="res://Levels/cloud_room.tscn" id="5_quxlp"]
[ext_resource type="PackedScene" uid="uid://bikq8h6hctftq" path="res://Scenes/tower_ext_view.tscn" id="6_xqt5k"]
[ext_resource type="Script" path="res://Scripts/bgm.gd" id="13_c8aie"]
[ext_resource type="PackedScene" uid="uid://bjse5p8p12uhr" path="res://Scenes/tooltips.tscn" id="14_02nus"]

[sub_resource type="LabelSettings" id="LabelSettings_tft4m"]
font_size = 22
font_color = Color(0.0253638, 0.0253638, 0.0253638, 1)

[node name="Main" type="Node"]
script = ExtResource("1_nu8b2")

[node name="BeaconPuzzle1" parent="." instance=ExtResource("2_6o530")]
visible = false
required_prime = "salt"
required_element = "air"
required_metal = "lead"

[node name="BeaconPuzzle2" parent="." instance=ExtResource("2_6o530")]
visible = false
required_prime = "salt"
required_element = "water"
required_metal = "iron"

[node name="BeaconPuzzle3" parent="." instance=ExtResource("2_6o530")]
visible = false
required_prime = "salt"
required_element = "fire"
required_metal = "silver"

[node name="BeaconPuzzle4" parent="." instance=ExtResource("2_6o530")]
visible = false
required_prime = "salt"
required_element = "earth"
required_metal = "gold"

[node name="TowerExteriorView" type="Node" parent="."]

[node name="ColorRect" type="ColorRect" parent="TowerExteriorView"]
offset_left = 14.0
offset_top = 48.0
offset_right = 54.0
offset_bottom = 88.0
scale = Vector2(3.91332, 12.962)

[node name="Label2" type="Label" parent="TowerExteriorView"]
offset_left = 20.0
offset_top = 247.0
offset_right = 166.0
offset_bottom = 380.0
text = "Tower View: 
Where player 
sees progress 
of shadows"
label_settings = SubResource("LabelSettings_tft4m")

[node name="TowerExtView" parent="TowerExteriorView" instance=ExtResource("6_xqt5k")]
position = Vector2(92, 314)
scale = Vector2(0.3, 0.37)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
script = ExtResource("13_c8aie")

[node name="Tooltips" parent="." instance=ExtResource("14_02nus")]

[node name="PlayerView" type="SubViewportContainer" parent="."]
offset_left = 195.0
offset_top = 51.0
offset_right = 757.0
offset_bottom = 668.0
scale = Vector2(0.799999, 0.84)

[node name="SubViewport" type="SubViewport" parent="PlayerView"]
handle_input_locally = false
size = Vector2i(562, 617)
render_target_update_mode = 4

[node name="CloudRoom" parent="PlayerView/SubViewport" instance=ExtResource("5_quxlp")]
level_name = "cloud"

[connection signal="menu_toggled" from="BeaconPuzzle1" to="." method="_on_beacon_menu_toggled"]
[connection signal="menu_toggled" from="BeaconPuzzle2" to="." method="_on_beacon_menu_toggled"]
[connection signal="menu_toggled" from="BeaconPuzzle3" to="." method="_on_beacon_menu_toggled"]
[connection signal="menu_toggled" from="BeaconPuzzle4" to="." method="_on_beacon_menu_toggled"]
[connection signal="game_over" from="TowerExteriorView/TowerExtView" to="." method="_on_game_over"]
[connection signal="item_found" from="PlayerView/SubViewport/CloudRoom" to="." method="_on_world_item_found"]
