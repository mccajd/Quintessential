[gd_scene load_steps=7 format=3 uid="uid://dhwf2e51q2ran"]

[ext_resource type="Script" path="res://Scripts/player_view.gd" id="1_n05sp"]
[ext_resource type="PackedScene" uid="uid://nrsivx657vil" path="res://Scenes/custom_tile_map.tscn" id="2_abkc4"]
[ext_resource type="Texture2D" uid="uid://csqgdifalte26" path="res://assets/levelbackgrounds/cave level back.png" id="3_6qgxm"]
[ext_resource type="Texture2D" uid="uid://c54oeudwo86og" path="res://assets/symbols/air-symbol.png" id="4_3ig0p"]
[ext_resource type="Texture2D" uid="uid://b11v70jh5tj12" path="res://assets/levelbackgrounds/cave level front.png" id="4_r23hd"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_acovp"]
size = Vector2(83.5, 162)

[node name="CaveRoom" type="Node"]
script = ExtResource("1_n05sp")

[node name="TileMap" parent="." instance=ExtResource("2_abkc4")]
z_index = 10
position = Vector2(-1, 0)
layer_0/tile_data = PackedInt32Array(917513, 196611, 0, 917512, 196611, 0)
layer_4/tile_data = PackedInt32Array(786438, 131075, 0, 720902, 131075, 0, 655366, 131075, 0, 589830, 131075, 0, 524294, 131075, 0, 458758, 131075, 0, 458764, 131075, 0, 720980, 131075, 0, 786516, 131075, 0, 852052, 131075, 0, 917588, 131075, 0, 983124, 131075, 0, 1048660, 131075, 0, 1114196, 131075, 0, 1179732, 131075, 0, 1245268, 131075, 0, 1310804, 131075, 0, 1376340, 131075, 0, 983041, 131075, 0, 1048577, 131075, 0, 1114113, 131075, 0, 1179649, 131075, 0, 524300, 131075, 0, 589836, 131075, 0, 655372, 131075, 0, 720908, 131075, 0, 786444, 131075, 0, 1507389, 131075, 0, 1507388, 131075, 0, 1507390, 131075, 0, 1507391, 131075, 0, 1507392, 131075, 0, 1507393, 131075, 0, 1507394, 131075, 0, 1507395, 131075, 0, 1507396, 131075, 0, 1507397, 131075, 0, 1507398, 131075, 0, 1507399, 131075, 0, 1507400, 131075, 0, 1507401, 131075, 0, 1507402, 131075, 0, 1507403, 131075, 0, 1507404, 131075, 0, 1507405, 131075, 0, 1507406, 131075, 0, 393222, 131075, 0, 327686, 131075, 0, 262150, 131075, 0, 196614, 131075, 0, 196615, 131075, 0, 196616, 131075, 0, 196617, 131075, 0, 196618, 131075, 0, 196619, 131075, 0, 196620, 131075, 0, 262156, 131075, 0, 327692, 131075, 0, 393228, 131075, 0, 1245185, 131075, 0, 1310721, 131075, 0, 1376257, 131075, 0, 1441793, 131075, 0, 1507329, 131075, 0, 1507330, 131075, 0, 1507331, 131075, 0, 1507332, 131075, 0, 1507333, 131075, 0, 1507334, 131075, 0, 1507335, 131075, 0, 1507336, 131075, 0, 1507337, 131075, 0, 1507338, 131075, 0, 1507339, 131075, 0, 1507340, 131075, 0, 1507341, 131075, 0, 1507342, 131075, 0, 1507343, 131075, 0, 1507344, 131075, 0, 1507345, 131075, 0, 1507346, 131075, 0, 1507347, 131075, 0, 1507348, 131075, 0, 1507349, 131075, 0, 1507350, 131075, 0, 1507351, 131075, 0, 1507352, 131075, 0, 1507353, 131075, 0, 1507354, 131075, 0, 1507355, 131075, 0, 1507356, 131075, 0, 1507357, 131075, 0, 1507358, 131075, 0, 1507359, 131075, 0, 1507360, 131075, 0, 1507361, 131075, 0, 1507362, 131075, 0, 1507363, 131075, 0, 1507364, 131075, 0, 1507365, 131075, 0, 1507366, 131075, 0, 1507367, 131075, 0, 1507368, 131075, 0, 1507369, 131075, 0, 1507370, 131075, 0, 1507371, 131075, 0, 1507372, 131075, 0, 1507373, 131075, 0, 1507374, 131075, 0, 1507375, 131075, 0, 1507376, 131075, 0, 1507377, 131075, 0, 1507378, 131075, 0, 1507379, 131075, 0, 1507380, 131075, 0, 1507381, 131075, 0, 1507382, 131075, 0, 1507383, 131075, 0, 1507384, 131075, 0, 1507385, 131075, 0, 1507386, 131075, 0, 1507387, 131075, 0, 1507407, 131075, 0, 1507408, 131075, 0, 1507409, 131075, 0, 1507410, 131075, 0, 1507411, 131075, 0, 1507412, 131075, 0, 1441876, 131075, 0, 655444, 131075, 0, 589908, 131075, 0, 589907, 131075, 0, 589906, 131075, 0, 589905, 131075, 0, 589904, 131075, 0, 589903, 131075, 0, 589902, 131075, 0, 589901, 131075, 0, 589900, 131075, 0, 589899, 131075, 0, 589898, 131075, 0, 589897, 131075, 0, 589896, 131075, 0, 589895, 131075, 0, 589894, 131075, 0, 589893, 131075, 0, 589892, 131075, 0, 589891, 131075, 0, 589890, 131075, 0, 589889, 131075, 0, 589888, 131075, 0, 589887, 131075, 0, 589886, 131075, 0, 589885, 131075, 0, 589884, 131075, 0, 589883, 131075, 0, 589882, 131075, 0, 589881, 131075, 0, 589880, 131075, 0, 589879, 131075, 0, 589878, 131075, 0, 589877, 131075, 0, 589876, 131075, 0, 589875, 131075, 0, 589874, 131075, 0, 589873, 131075, 0, 589872, 131075, 0, 589871, 131075, 0, 589870, 131075, 0, 589869, 131075, 0, 589868, 131075, 0, 589867, 131075, 0, 589866, 131075, 0, 589865, 131075, 0, 589864, 131075, 0, 589863, 131075, 0, 589862, 131075, 0, 589861, 131075, 0, 589860, 131075, 0, 589859, 131075, 0, 589858, 131075, 0, 589857, 131075, 0, 589856, 131075, 0, 589854, 131075, 0, 589853, 131075, 0, 589855, 131075, 0, 589852, 131075, 0, 589851, 131075, 0, 589850, 131075, 0, 589849, 131075, 0, 589848, 131075, 0, 589847, 131075, 0, 589846, 131075, 0, 589845, 131075, 0, 589844, 131075, 0, 589843, 131075, 0, 589842, 131075, 0, 589841, 131075, 0, 589840, 131075, 0, 589839, 131075, 0, 589838, 131075, 0, 589837, 131075, 0, 917505, 131075, 0, 851969, 131075, 0, 786433, 131075, 0, 720897, 131075, 0, 655361, 131075, 0, 589825, 131075, 0, 589826, 131075, 0, 589827, 131075, 0, 589828, 131075, 0, 589829, 131075, 0)
layer_5/tile_data = PackedInt32Array(786443, 3, 0, 786442, 3, 0, 786441, 3, 0, 786440, 3, 0, 786439, 3, 0, 720903, 3, 0, 655367, 3, 0, 589831, 3, 0, 524295, 3, 0, 458759, 3, 0, 393223, 3, 0, 327687, 3, 0, 262151, 3, 0, 262152, 3, 0, 262153, 3, 0, 262154, 3, 0, 262155, 3, 0, 327691, 3, 0, 393227, 3, 0, 458763, 3, 0, 524299, 3, 0, 589835, 3, 0, 655371, 3, 0, 720907, 3, 0, 720906, 3, 0, 720905, 3, 0, 720904, 3, 0, 655368, 3, 0, 655369, 3, 0, 655370, 3, 0, 589834, 3, 0, 524298, 3, 0, 458762, 3, 0, 393226, 3, 0, 327690, 3, 0, 327689, 3, 0, 327688, 3, 0, 393224, 3, 0, 458760, 3, 0, 524296, 3, 0, 589832, 3, 0, 589833, 3, 0, 524297, 3, 0, 458761, 3, 0, 393225, 3, 0)

[node name="Background" type="TextureRect" parent="."]
offset_left = 8.0
offset_top = -274.0
offset_right = 904.0
offset_bottom = 238.0
scale = Vector2(1.5, 1.5)
texture = ExtResource("3_6qgxm")

[node name="ElementBanner" type="TextureRect" parent="."]
offset_left = 552.0
offset_top = -274.0
offset_right = 776.0
offset_bottom = -43.0
scale = Vector2(1.18598, 1.18598)
texture = ExtResource("4_3ig0p")

[node name="Transition" type="ColorRect" parent="."]
visible = false
z_index = 5
offset_left = 2.0
offset_top = -271.0
offset_right = 840.0
offset_bottom = 504.0
color = Color(0, 0, 0, 1)

[node name="BlackVoid" type="ColorRect" parent="."]
z_index = -1
offset_left = 22.0
offset_top = -251.0
offset_right = 1333.0
offset_bottom = 472.0
color = Color(0, 0, 0, 1)

[node name="BackDetector" type="Area2D" parent="."]
position = Vector2(-332, -90)
collision_layer = 4
collision_mask = 7

[node name="CollisionShape2D" type="CollisionShape2D" parent="BackDetector"]
position = Vector2(486.25, 162)
shape = SubResource("RectangleShape2D_acovp")

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
layer = 1
follow_viewport_enabled = true

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]

[node name="Foreground" type="TextureRect" parent="ParallaxBackground/ParallaxLayer"]
z_index = 5
offset_left = -121.0
offset_top = -465.6
offset_right = 775.0
offset_bottom = 46.4
scale = Vector2(1.5, 1.5)
texture = ExtResource("4_r23hd")

[node name="Foreground2" type="TextureRect" parent="ParallaxBackground/ParallaxLayer"]
z_index = 5
offset_left = 690.2
offset_top = -466.0
offset_right = 1586.2
offset_bottom = 46.0
scale = Vector2(1.5, 1.5)
texture = ExtResource("4_r23hd")

[connection signal="item_discovered" from="TileMap" to="." method="_on_item_discovered"]
[connection signal="body_entered" from="BackDetector" to="." method="_on_back_detector_entered"]
[connection signal="body_exited" from="BackDetector" to="." method="_on_back_detector_exited"]
